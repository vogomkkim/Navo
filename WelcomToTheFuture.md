import React, { useState } from 'react';

const SimpleUIGenerator = () => {
  const [userInput, setUserInput] = useState('');
  const [generatedHTML, setGeneratedHTML] = useState('');
  const [generatedCSS, setGeneratedCSS] = useState('');

  // Í∞ÑÎã®Ìïú AI ÏãúÎÆ¨Î†àÏù¥ÏÖò (Ïã§Ï†úÎ°úÎäî AI API Ìò∏Ï∂ú)
  const generateUI = () => {
    // Í∞ÑÎã®Ìïú Ìå®ÌÑ¥ Îß§Ïπ≠ÏúºÎ°ú UI ÏÉùÏÑ±
    let html = '';
    let css = '';

    if (userInput.toLowerCase().includes('header')) {
      html += `
        <header class="main-header">
          <h1>My Awesome Website</h1>
          <nav>
            <a href="#">Home</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
          </nav>
        </header>
      `;
      css += `
        .main-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 20px;
          text-align: center;
        }
        .main-header nav a {
          color: white;
          text-decoration: none;
          margin: 0 15px;
          font-weight: bold;
        }
      `;
    }

    if (userInput.toLowerCase().includes('hero')) {
      html += `
        <section class="hero">
          <h2>Welcome to the Future</h2>
          <p>This is an amazing hero section created by AI!</p>
          <button class="cta-button">Get Started</button>
        </section>
      `;
      css += `
        .hero {
          background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
          color: white;
          padding: 100px 20px;
          text-align: center;
        }
        .hero h2 {
          font-size: 3rem;
          margin-bottom: 20px;
        }
        .cta-button {
          background: white;
          color: #f5576c;
          border: none;
          padding: 15px 30px;
          border-radius: 25px;
          font-size: 1.2rem;
          font-weight: bold;
          cursor: pointer;
          margin-top: 20px;
        }
      `;
    }

    if (userInput.toLowerCase().includes('card') || userInput.toLowerCase().includes('feature')) {
      html += `
        <section class="features">
          <div class="feature-card">
            <h3>üöÄ Fast</h3>
            <p>Lightning fast performance</p>
          </div>
          <div class="feature-card">
            <h3>üé® Beautiful</h3>
            <p>Stunning visual design</p>
          </div>
          <div class="feature-card">
            <h3>üì± Responsive</h3>
            <p>Works on all devices</p>
          </div>
        </section>
      `;
      css += `
        .features {
          display: flex;
          gap: 20px;
          padding: 50px 20px;
          justify-content: center;
          flex-wrap: wrap;
        }
        .feature-card {
          background: white;
          padding: 30px;
          border-radius: 10px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
          text-align: center;
          min-width: 200px;
          transition: transform 0.3s ease;
        }
        .feature-card:hover {
          transform: translateY(-5px);
        }
      `;
    }

    if (!html) {
      html = `
        <div class="default">
          <h1>Hello World!</h1>
          <p>Try typing: "create a header and hero section"</p>
        </div>
      `;
      css = `
        .default {
          padding: 50px;
          text-align: center;
          background: #f8f9fa;
        }
      `;
    }

    setGeneratedHTML(html);
    setGeneratedCSS(css);
  };

  // ÌîÑÎ°úÏ†ùÌä∏ ÌååÏùºÎì§ ÏÉùÏÑ±
  const generateProjectFiles = () => {
    const files = {
      'index.html': `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Site</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    ${generatedHTML}
    <script src="script.js"></script>
</body>
</html>`,

      'styles.css': `/* Generated Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Arial', sans-serif;
  line-height: 1.6;
}

${generatedCSS}`,

      'script.js': `// Generated JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('Generated site loaded successfully!');

    // Add interactive features
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
        button.addEventListener('click', function() {
            alert('Button clicked! This is a generated site.');
        });
    });

    // Add hover effects
    const cards = document.querySelectorAll('.feature-card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px)';
        });
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
});`,

      'README.md': `# Generated Website

This website was generated using AI-powered web builder.

## Project Structure
\`\`\`
/
‚îú‚îÄ‚îÄ index.html      # Main HTML file
‚îú‚îÄ‚îÄ styles.css      # CSS styles
‚îú‚îÄ‚îÄ script.js       # JavaScript functionality
‚îî‚îÄ‚îÄ README.md       # This file
\`\`\`

## How to run
1. Open \`index.html\` in your browser
2. Or serve with a local server:
   \`\`\`
   npx serve .
   \`\`\`

## Features
- Responsive design
- Modern CSS animations
- Interactive JavaScript
- Clean project structure

Generated at: ${new Date().toISOString()}
`,

      'package.json': `{
  "name": "generated-website",
  "version": "1.0.0",
  "description": "AI-generated website",
  "main": "index.html",
  "scripts": {
    "start": "npx serve .",
    "dev": "npx live-server ."
  },
  "keywords": ["ai", "generated", "website"],
  "author": "AI Web Builder",
  "license": "MIT",
  "devDependencies": {
    "serve": "^14.0.0",
    "live-server": "^1.2.2"
  }
}`
    };

    return files;
  };

  // ZIP ÌååÏùº ÏÉùÏÑ± Î∞è Îã§Ïö¥Î°úÎìú
  const downloadZip = async () => {
    const JSZip = (await import('https://cdn.skypack.dev/jszip')).default;
    const zip = new JSZip();
    const files = generateProjectFiles();

    // Í∞Å ÌååÏùºÏùÑ ZIPÏóê Ï∂îÍ∞Ä
    Object.entries(files).forEach(([filename, content]) => {
      zip.file(filename, content);
    });

    // ZIP ÏÉùÏÑ± Î∞è Îã§Ïö¥Î°úÎìú
    const zipBlob = await zip.generateAsync({ type: 'blob' });
    const url = URL.createObjectURL(zipBlob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `generated-website-${Date.now()}.zip`;
    a.click();
    URL.revokeObjectURL(url);
  };

  // Îã®Ïùº HTML ÎØ∏Î¶¨Î≥¥Í∏∞Ïö©
  const getFullHTML = () => {
    const files = generateProjectFiles();
    return files['index.html'].replace(
      '<link rel="stylesheet" href="styles.css">',
      `<style>${files['styles.css']}</style>`
    ).replace(
      '<script src="script.js"></script>',
      `<script>${files['script.js']}</script>`
    );
  };

  return (
    <div className="min-h-screen bg-gray-100 p-6">
      <div className="max-w-6xl mx-auto">
        <h1 className="text-3xl font-bold mb-8 text-center">Simple UI Generator</h1>

        <div className="grid md:grid-cols-2 gap-6 mb-6">
          {/* Input Section */}
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-semibold mb-4">Tell me what to create:</h2>
            <textarea
              className="w-full h-32 p-3 border border-gray-300 rounded-lg resize-none"
              placeholder="Try: 'Create a header and hero section with cards'"
              value={userInput}
              onChange={(e) => setUserInput(e.target.value)}
            />
            <button
              onClick={generateUI}
              className="mt-4 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors"
            >
              Generate UI ‚ú®
            </button>
          </div>

          {/* Generated Code */}
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-semibold mb-4">Generated Code:</h2>
            <div className="space-y-4 max-h-96 overflow-y-auto">
              {generatedHTML && (
                <div>
                  <h3 className="font-semibold text-sm text-gray-600 mb-2">HTML:</h3>
                  <pre className="bg-gray-100 p-3 text-xs rounded overflow-x-auto">
                    {generatedHTML}
                  </pre>
                </div>
              )}
              {generatedCSS && (
                <div>
                  <h3 className="font-semibold text-sm text-gray-600 mb-2">CSS:</h3>
                  <pre className="bg-gray-100 p-3 text-xs rounded overflow-x-auto">
                    {generatedCSS}
                  </pre>
                </div>
              )}
            </div>
          </div>
        </div>

        {/* Live Preview */}
        {generatedHTML && (
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-semibold mb-4">Live Preview:</h2>
            <div className="border border-gray-300 rounded-lg overflow-hidden">
              <iframe
                srcDoc={getFullHTML()}
                className="w-full h-96"
                title="Preview"
              />
            </div>

            <div className="mt-4 flex gap-4 justify-center">
              <button
                onClick={() => {
                  const files = generateProjectFiles();
                  const blob = new Blob([files['index.html']], { type: 'text/html' });
                  const url = URL.createObjectURL(blob);
                  const a = document.createElement('a');
                  a.href = url;
                  a.download = 'index.html';
                  a.click();
                  URL.revokeObjectURL(url);
                }}
                className="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors"
              >
                Download HTML üìÑ
              </button>

              <button
                onClick={downloadZip}
                className="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors"
              >
                Download Project ZIP üì¶
              </button>
            </div>
          </div>
        )}

        {/* Project Structure Preview */}
        {generatedHTML && (
          <div className="bg-white p-6 rounded-lg shadow mt-6">
            <h2 className="text-xl font-semibold mb-4">Project Structure:</h2>
            <div className="bg-gray-100 p-4 rounded-lg font-mono text-sm">
              <div className="text-blue-600">üìÅ generated-website/</div>
              <div className="ml-4 text-green-600">üìÑ index.html</div>
              <div className="ml-4 text-green-600">üìÑ styles.css</div>
              <div className="ml-4 text-green-600">üìÑ script.js</div>
              <div className="ml-4 text-green-600">üìÑ package.json</div>
              <div className="ml-4 text-green-600">üìÑ README.md</div>
            </div>

            <div className="mt-4 grid md:grid-cols-2 gap-4">
              <div>
                <h3 className="font-semibold mb-2">üìÑ package.json</h3>
                <pre className="bg-gray-100 p-3 text-xs rounded overflow-x-auto max-h-32">
{JSON.stringify(JSON.parse(generateProjectFiles()['package.json']), null, 2)}
                </pre>
              </div>
              <div>
                <h3 className="font-semibold mb-2">üìÑ README.md</h3>
                <pre className="bg-gray-100 p-3 text-xs rounded overflow-x-auto max-h-32">
{generateProjectFiles()['README.md'].substring(0, 200)}...
                </pre>
              </div>
            </div>

            <div className="mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200">
              <p className="text-sm text-yellow-800">
                <strong>üí° Tip:</strong> ZIP ÌååÏùº Îã§Ïö¥Î°úÎìú ÌõÑ ÏïïÏ∂ï Ìï¥Ï†úÌïòÎ©¥ ÏôÑÏ†ÑÌïú ÏõπÏÇ¨Ïù¥Ìä∏ ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÉùÏÑ±Îê©ÎãàÎã§.
                <code className="bg-yellow-100 px-1 rounded">npm start</code> Î™ÖÎ†πÏúºÎ°ú Î°úÏª¨ ÏÑúÎ≤Ñ Ïã§Ìñâ Í∞ÄÎä•!
              </p>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default SimpleUIGenerator;


========================================== description =====================================================

1) Í∞úÎÖê

ÏûêÏó∞Ïñ¥ ÏûÖÎ†• ‚Üí HTML/CSS Ï°∞Í∞Å ÏÉùÏÑ± ‚Üí ÎØ∏Î¶¨Î≥¥Í∏∞/ZIP Î∞∞Ìè¨ÍπåÏßÄ Ìïú Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú Ï≤òÎ¶¨ÌïòÎäî Ï¥àÍ∞ÑÎã® UI ÏÉùÏÑ±Í∏∞.

ÌÇ§ÏõåÎìú Îß§Ïπ≠(header/hero/card)Î°ú ÌÖúÌîåÎ¶ø Ï°∞Ìï©, iframe srcDocÏúºÎ°ú ÌîÑÎ¶¨Î∑∞, Î©îÎ™®Î¶¨ ÏÉÅÏóêÏÑú index.html / styles.css / script.js / README.md / package.json ÎßåÎì§Í≥† ZIP Îã§Ïö¥Î°úÎìú.

2) Ïª®ÏÖâ

**LLM ÏóÜÏù¥ÎèÑ ‚ÄúÌå®ÌÑ¥ Í∏∞Î∞ò UI ÏÉùÏÑ±‚Äù**ÏùÑ Ï≤¥ÌóòÌïòÍ≤å ÌïòÎäî ÏµúÏÜåÏûëÎèô(MVP).

‚ÄúÎÇòÏ§ëÏóê LLM Ïó∞Í≤∞‚ÄùÏùÑ Ï†ÑÏ†úÎ°ú, ÌòÑÏû¨Îäî ÌôîÏù¥Ìä∏Î¶¨Ïä§Ìä∏ ÌÖúÌîåÎ¶ø Ï°∞Î¶ΩÍ∏∞Î°ú ÏïàÏ†ÑÌïòÍ≤å ÏãúÏûë.

3) ÏòàÏãú(ÎèôÏûë ÌùêÎ¶Ñ)

ÏûÖÎ†•: ‚Äúcreate a header and hero section with cards‚Äù

ÏÉùÏÑ±:

HTML: <header>‚Ä¶</header>, .hero, .features .feature-card Î∏îÎ°ù Ï∂îÍ∞Ä

CSS: Í∞Å Î∏îÎ°ù Ïä§ÌÉÄÏùº Ï°∞Ìï©

ÎØ∏Î¶¨Î≥¥Í∏∞: iframe srcDoc

Î∞∞Ìè¨: JSZipÏúºÎ°ú ZIP(index.htmlÏóê ÎßÅÌÅ¨/Ïä§ÌÅ¨Î¶ΩÌä∏ Ïó∞Í≤∞) Îã§Ïö¥Î°úÎìú

4) Î≥¥ÏôÑÏ†ê(Ï§ëÏöîÎèÑ Ïàú)
Î≥¥Ïïà

XSS Ï∞®Îã®: ÏÇ¨Ïö©Ïûê ÏûÖÎ†•Ïù¥ ÌÖúÌîåÎ¶øÏóê ÏÑûÏó¨ iframeÏóêÏÑú Ïã§ÌñâÎê† Ïàò ÏûàÏùå ‚Üí Sanitize ÌïÑÏàò

ÌîÑÎ¶¨Î∑∞ Í≤©Î¶¨: iframeÏóê sandbox ÏßÄÏ†ï(Í∞ÄÎä•ÌïòÎ©¥ allow-same-origin ÌîºÌï®)

Ïô∏Î∂Ä CDN ÎèôÏ†Å import Ï†úÍ±∞: jszipÏùÑ npm ÏùòÏ°¥ÏÑ±ÏúºÎ°ú Î≤àÎì§Ïóê Ìè¨Ìï®

CSP Í≥†Î†§: Î∞∞Ìè¨ Ïãú default-src 'self' Ï§ëÏã¨ÏúºÎ°ú Ï†ïÏ±Ö ÏÑ§Í≥Ñ

Íµ¨Ï°∞/Ïú†ÏßÄÎ≥¥Ïàò

Í¥ÄÏã¨ÏÇ¨ Î∂ÑÎ¶¨:

parseIntent() / buildHtml() / buildCss() / scaffoldProject()Î°ú Î™®ÎìàÌôî

ÏóêÎü¨/Î°úÎî© ÏÉÅÌÉú: ZIP ÏÉùÏÑ±¬∑ÎèôÏ†Å Ï≤òÎ¶¨ Ïã§Ìå® Ïãú ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞±

ÌÖåÏä§Ìä∏ Ìè¨Ïù∏Ìä∏ ÌôïÎ≥¥: ÏûÖÎ†•‚ÜíÏä§Ìéô, Ïä§Ìéô‚ÜíÌÖúÌîåÎ¶ø Ï°∞Ìï©ÏùÑ Îã®ÏúÑ ÌÖåÏä§Ìä∏ Í∞ÄÎä•ÌïòÍ≤å

Í¥ÄÏ∏°ÏÑ±/DX

postMessage Î°úÍπÖ: ÌîÑÎ¶¨Î∑∞ iframe ÎÇ¥Î∂Ä Ïò§Î•òÎ•º ÏÉÅÏúÑÏóêÏÑú ÏàòÏßë

ÌÖúÌîåÎ¶ø Î≤ÑÏ†ÑÍ¥ÄÎ¶¨: Ïª¥Ìè¨ÎÑåÌä∏ ÌåîÎ†àÌä∏(Ìó§Îçî/ÌûàÏñ¥Î°ú/Ïπ¥Îìú/Ìë∏ÌÑ∞‚Ä¶)Î•º Î≤ÑÏ†Ñ/ÏòµÏÖòÌôî

ÌôïÏû• Í≤ΩÎ°ú: ‚ÄúÏûêÏó∞Ïñ¥ ‚Üí JSON Ïä§Ìéô ‚Üí ÌÖúÌîåÎ¶ø Ï°∞Î¶Ω‚Äù 2Îã®Í≥ÑÎ°ú Î∂ÑÎ¶¨ ÌõÑ LLM Ïó∞Í≤∞

5) ÏµúÏÜå Ìå®Ïπò ÏΩîÎìú

(a) ÌîÑÎ¶¨Î∑∞ Í≤©Î¶¨ Í∞ïÌôî

<iframe
  srcDoc={getFullHTML()}
  className="w-full h-96"
  title="Preview"
  sandbox="allow-scripts"
  referrerPolicy="no-referrer"
/>


(b) Sanitization (DOMPurify)

npm i dompurify

import DOMPurify from 'dompurify';

const safeHTML = DOMPurify.sanitize(generatedHTML, { ALLOWED_ATTR: ['href','class'] });
const safeCSS  = DOMPurify.sanitize(generatedCSS);

const getFullHTML = () => {
  const files = generateProjectFiles({ html: safeHTML, css: safeCSS });
  return files['index.html']
    .replace('<link rel="stylesheet" href="styles.css">', `<style>${files['styles.css']}</style>`)
    .replace('<script src="script.js"></script>', `<script>${files['script.js']}</script>`);
};


(c) JSZip Î≤àÎì§ Ìè¨Ìï®

npm i jszip

import JSZip from 'jszip';

const downloadZip = async () => {
  const zip = new JSZip();
  const files = generateProjectFiles();
  Object.entries(files).forEach(([name, content]) => zip.file(name, content));
  const blob = await zip.generateAsync({ type: 'blob' });
  // ...Îã§Ïö¥Î°úÎìú ÎèôÏùº
};

6) Î¶¨Ìå©ÌÑ∞ Íµ¨Ï°∞ Ïä§ÏºÄÏπò
// uiGenerator.ts
export type Intent = { header: boolean; hero: boolean; cards: boolean };

export const parseIntent = (input: string): Intent => { /* ÌÇ§ÏõåÎìú ‚Üí Intent */ };
export const buildHtml = (i: Intent) => { /* intent ‚Üí html */ };
export const buildCss  = (i: Intent) => { /* intent ‚Üí css  */ };

export const scaffoldProject = ({ html, css }: { html: string; css: string }) => ({
  'index.html': /* html+css inline or link */,
  'styles.css': css,
  'script.js' : /* basics */,
  'README.md' : /* guide */,
  'package.json': /* scripts */
});


Ïª¥Ìè¨ÎÑåÌä∏Îäî ÏÉÅÌÉú/Ïù¥Î≤§Ìä∏/UIÎßå Îã¥Îãπ.

7) Îã§Ïùå Îã®Í≥Ñ(Î°úÎìúÎßµ)

ÏûÖÎ†•‚ÜíIntentÎ•º JSONÏúºÎ°ú Î∂ÑÎ¶¨(ÌõÑÏóê LLMÏù¥ Ïù¥ Î∂ÄÎ∂ÑÎßå ÍµêÏ≤¥)

ÌÖúÌîåÎ¶ø ÏòµÏÖòÌôî: ÏÉâÏÉÅ/Î†àÏù¥ÏïÑÏõÉ/Í∑∏Î¶¨Îìú/ÏïÑÏù¥ÏΩò ÏÑ∏Ìä∏ ÌååÎùºÎØ∏ÌÑ∞

ÌîÑÎ¶¨Î∑∞ ÌÜµÏã†: window.postMessageÎ°ú ÌîÑÎ¶¨Î∑∞ Î°úÍ∑∏/ÏóêÎü¨ ÏàòÏßë

CSP + Îã§Ïö¥Î°úÎìú Î≥¥Ïïà: Î∞∞Ìè¨ ÌôòÍ≤Ω Ìó§Îçî Íµ¨ÏÑ±, rel="noopener" Îì± Ï†ÅÏö©

LLM Ïó∞Îèô: ‚ÄúÏûêÏó∞Ïñ¥ ‚Üí Intent(JSON)‚ÄùÍπåÏßÄ LLM, Ï°∞Î¶ΩÏùÄ Î°úÏª¨ ÌôîÏù¥Ìä∏Î¶¨Ïä§Ìä∏Î°ú ÏïàÏ†Ñ Î≥¥Ïû•

Ìïú Ï§Ñ ÏöîÏïΩ: ÏßÄÍ∏à Íµ¨Ï°∞Îäî Îç∞Î™®Î°ú ÌõåÎ•≠ÌïòÍ≥†, Î≥¥Ïïà(Ï†ïÌôî+Í≤©Î¶¨)¬∑Î™®ÎìàÌôî¬∑Î≤àÎì§Ìôî(JSZip)Îßå ÎÑ£ÏúºÎ©¥ Î∞îÎ°ú Ïã§ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ‚ÄòÎ°úÏª¨ ÌÖúÌîåÎ¶ø Ï°∞Î¶ΩÌòï UI ÏÉùÏÑ±Í∏∞‚ÄôÍ∞Ä ÎêúÎã§.


ÌïµÏã¨ Î≥¥ÏôÑÏ†êÏóê Îî± ÎßûÎäî ÏµúÏÜå ÏòàÏãú ÏΩîÎìúÎäî Íº≠ Îì§Ïñ¥Í∞ÄÏïº Ïù¥Ìï¥/Ï†ÅÏö©Ïù¥ ÏâΩÎã§. ÏïÑÎûò 4Í∞ú ‚ÄúÎìúÎ°≠Ïù∏ Ìå®Ïπò‚ÄùÎßå ÎÑ£ÏúºÎ©¥ Ï∂©Î∂ÑÌûà Îî∞ÎùºÏò®Îã§.

1) ÌîÑÎ¶¨Î∑∞ Í≤©Î¶¨ (iframe sandbox)
<iframe
  srcDoc={getFullHTML()}
  className="w-full h-96"
  title="Preview"
  sandbox="allow-scripts"
  referrerPolicy="no-referrer"
/>


ÏÑ§Î™Ö: Ïã§ÌñâÏùÄ ÎêòÎêò, ÏÉÅÏúÑ Ï†ëÍ∑º Ï∞®Îã®. allow-same-originÏùÄ Í∞ÄÎä•ÌïòÎ©¥ ÌîºÌï®.

2) Sanitization (DOMPurify) ‚Äî Í≤∞Í≥ºÎ¨ºÎßå Ï†ïÌôî
npm i dompurify

import DOMPurify from 'dompurify';

const sanitize = (html: string, css: string) => ({
  html: DOMPurify.sanitize(html, { ALLOWED_ATTR: ['href','class'] }),
  css : DOMPurify.sanitize(css),
});

const getFullHTML = () => {
  const files = generateProjectFiles(); // Í∏∞Ï°¥ Ìï®Ïàò ÏÇ¨Ïö©
  const safe = sanitize(generatedHTML, generatedCSS);

  return files['index.html']
    .replace('<link rel="stylesheet" href="styles.css">', `<style>${safe.css}</style>`)
    .replace('<script src="script.js"></script>', `<script>${files['script.js']}</script>`)
    .replace('${generatedHTML}', safe.html); // index.html ÌÖúÌîåÎ¶øÏóêÏÑú ÏπòÌôòÎêòÎèÑÎ°ù Ìïú Ï§Ñ Ï∂îÍ∞Ä
};


ÏÑ§Î™Ö: ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßåÎì† Î¨∏ÏûêÏó¥ÏùÑ ÏÇΩÏûÖ ÏßÅÏ†ÑÏóê Ï†ïÌôî.

3) JSZip CDN Ï†úÍ±∞ ‚Üí Î≤àÎì§ Ìè¨Ìï®
npm i jszip

import JSZip from 'jszip';

const downloadZip = async () => {
  const zip = new JSZip();
  const files = generateProjectFiles();

  Object.entries(files).forEach(([name, content]) => zip.file(name, content));
  const blob = await zip.generateAsync({ type: 'blob' });

  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `generated-website-${Date.now()}.zip`;
  a.click();
  URL.revokeObjectURL(url);
};


ÏÑ§Î™Ö: Ïô∏Î∂Ä CDN ÏùòÏ°¥ Ï†úÍ±∞Î°ú ÏïàÏ†ïÏÑ±¬∑Î≥¥Ïïà‚Üë.

4) Í¥ÄÏã¨ÏÇ¨ Î∂ÑÎ¶¨(ÏùòÎèÑ ÌååÏã± Î∂ÑÎ¶¨) ‚Äî 20Ï§Ñ Ïä§ÏºàÎ†àÌÜ§
// uiGenerator.ts
export type Intent = { header: boolean; hero: boolean; cards: boolean };

export const parseIntent = (input: string): Intent => {
  const s = input.toLowerCase();
  return {
    header: s.includes('header'),
    hero  : s.includes('hero'),
    cards : s.includes('card') || s.includes('feature'),
  };
};

export const buildHtml = (i: Intent) => [
  i.header && `<header class="main-header">...</header>`,
  i.hero   && `<section class="hero">...</section>`,
  i.cards  && `<section class="features">...</section>`,
].filter(Boolean).join('\n');

export const buildCss = (i: Intent) => [
  i.header && `.main-header{...}`,
  i.hero   && `.hero{...}`,
  i.cards  && `.features{...}.feature-card{...}`,
].filter(Boolean).join('\n');


ÏÑ§Î™Ö: Ïª¥Ìè¨ÎÑåÌä∏Îäî ÏÉÅÌÉú/UIÎßå, Î°úÏßÅÏùÄ Ïù¥ Î™®ÎìàÏóêÏÑú ÌÖåÏä§Ìä∏ Í∞ÄÎä•.

Î¨∏ÏÑúÏóê Íº≠ Îì§Ïñ¥Í∞ÄÏïº Ìï† ‚ÄúÌïú Ï§Ñ ÏÑ§Î™Ö‚Äù ÏÖã

Ïôú: XSS¬∑Í≤©Î¶¨¬∑Í∞ÄÏö©ÏÑ± Î¨∏Ï†úÎ•º ÎßâÍ∏∞ ÏúÑÌïú ÏµúÏÜå Î≥¥Ïïà/ÏïàÏ†ï Ìå®Ïπò.

Ïñ¥Îîî: iframe ÏÜçÏÑ±, getFullHTML() ÎÇ¥Î∂Ä Ï†ïÌôî, downloadZip() ÎÇ¥Î∂Ä ÏùòÏ°¥ÏÑ± Î≥ÄÍ≤Ω, ÏÉùÏÑ± Î°úÏßÅ ÌååÏùº Î∂ÑÎ¶¨.

Í≤ÄÏ¶ùÎ∞©Î≤ï: ÏûÑÏùò Ïä§ÌÅ¨Î¶ΩÌä∏ ÏûÖÎ†• Ïãú Ïã§Ìñâ Ïïà Îê®, Ïò§ÌîÑÎùºÏù∏ÏóêÏÑúÎèÑ ZIP ÏÉùÏÑ±, Îã®ÏúÑÌÖåÏä§Ìä∏Î°ú parseIntent() ÌôïÏù∏.

Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏(Ïù¥ 6Í∞úÎ©¥ Ï∂©Î∂Ñ)

 sandbox="allow-scripts" Ï†ÅÏö©

 DOMPurifyÎ°ú generatedHTML/CSS Ï†ïÌôî

 JSZip npm ÏùòÏ°¥ÏÑ±ÏúºÎ°ú ÍµêÏ≤¥(CDN Ï†úÍ±∞)

 Ïò§Î•ò/Î°úÎî© ÌÜ†Ïä§Ìä∏(try/catch) Í∞ÑÎã® Ï∂îÍ∞Ä

 parseIntent/buildHtml/buildCss Î∂ÑÎ¶¨

 READMEÏóê ‚ÄúÎ≥¥Ïïà/ÏÑ§Ï†ï Ïù¥Ïú†‚Äù 3Ï§Ñ ÏöîÏïΩ

Ïù¥ Ï†ïÎèÑ ÏòàÏãú/Ìå®ÏπòÍ∞Ä Îì§Ïñ¥Í∞ÄÎ©¥, Îã§Î•∏ Í∞úÎ∞úÏûêÎèÑ Ï∂©Î∂ÑÌûà Ïù¥Ìï¥ÌïòÍ≥† Í∑∏ÎåÄÎ°ú Ï†ÅÏö©Ìï† Ïàò ÏûàÎã§.
