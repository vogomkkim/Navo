# `analytics` 모듈 리뷰 (2025-09-02)

이 문서는 `analytics` 모듈의 2차 개선을 위한 리뷰 항목을 정리합니다.

---

## 개선 및 보완 필요 사항

### 1. 경로 별칭(Path Alias) 통일

- **현상**: `repository`에서 `db` 모듈을 가져올 때 `../db/db.instance.js`와 같은 상대 경로를 사용하고 있습니다.
- **개선 제안**: 프로젝트 전반의 경로 일관성을 높이기 위해, `tsconfig.json`에 설정된 `@/db/...` 같은 경로 별칭으로 변경하는 것을 권장합니다.

### 2. (선택 사항) 메트릭 계산 성능 최적화

- **현상**: `getProjectMetrics`와 같은 메소드에서, 모든 이벤트 데이터를 가져온 후 애플리케이션 메모리 위에서 데이터를 집계하고 계산합니다.
- **개선 제안**: 현재 방식은 구현이 간단하다는 장점이 있지만, 향후 데이터 양이 매우 많아질 경우 성능 저하의 원인이 될 수 있습니다. 장기적인 관점에서, 복잡하더라도 SQL 쿼리 자체에서 `COUNT`, `AVG`, `GROUP BY` 등을 사용하여 데이터베이스가 직접 집계하도록 만들면 애플리케이션의 부하를 크게 줄일 수 있습니다. (이는 당장 수정할 필요는 없는, 향후를 위한 제안입니다.)
